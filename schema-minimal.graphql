type Event {
  eventId: ID!
  performerId: ID!
  venueName: String!
  startTime: AWSTimestamp!
  endTime: AWSTimestamp!
  status: String!
  qrCode: String
  createdAt: AWSTimestamp!
}

input CreateEventInput {
  venueName: String!
  startTime: AWSTimestamp!
  endTime: AWSTimestamp!
  status: String!
}

type Song {
  songId: ID!
  performerId: ID!
  title: String!
  artist: String!
  genre: String!
  basePrice: Float!
  isEnabled: Boolean!
}

input SongInput {
  title: String!
  artist: String!
  genre: String!
  basePrice: Float!
}

type UploadResponse {
  success: Boolean!
  message: String
}

type Query {
  getEvent(eventId: ID!): Event
  listActiveEvents: [Event!]!
}

type Mutation {
  createEvent(input: CreateEventInput!): Event
  uploadTracklist(performerId: ID!, songs: [SongInput!]!): UploadResponse
}

type Subscription {
  onEventCreated: Event
    @aws_subscribe(mutations: ["createEvent"])
}

schema {
  query: Query
  mutation: Mutation
  subscription: Subscription
}
